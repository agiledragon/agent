# 🤖 Function Calling - 智能点餐助手

## 📖 简介

本目录包含一个使用 Function Calling 的 Agent 示例，相比正则解析版本，工具调用更加结构化和可靠。

## 🚀 快速开始

```bash
# 设置环境变量
export TENCENT_API_KEY="你的API密钥"

# 运行 Agent
python3 order_agent_fc.py
```

## 📁 文件说明

| 文件                | 说明                                  |
| ------------------- | ------------------------------------- |
| `order_agent_fc.py` | 智能点餐 Agent（Function Calling 版） |

---

## 🔧 可用工具

### 1️⃣ ask_menu_price - 查询菜品价格

```json
{
  "name": "ask_menu_price",
  "description": "查询菜品价格",
  "parameters": {
    "item_name": "菜品名称，如：汉堡、可乐、薯条"
  }
}
```

### 2️⃣ calculate - 计算总价

```json
{
  "name": "calculate",
  "description": "计算数学表达式",
  "parameters": {
    "expression": "数学表达式，如：25*2 + 8*1"
  }
}
```

---

## 🍔 菜单

| 菜品   | 价格 |
| ------ | ---- |
| 汉堡   | 25元 |
| 薯条   | 12元 |
| 可乐   | 8元  |
| 鸡翅   | 18元 |
| 冰淇淋 | 6元  |
| 咖啡   | 15元 |
| 沙拉   | 20元 |
| 披萨   | 45元 |
| 三明治 | 22元 |
| 奶茶   | 10元 |

---

## 💬 使用示例

```
👤 用户: 我要2份汉堡和1杯可乐

==================================================
第 1 轮对话
==================================================
Action: ask_menu_price(汉堡)
Observation: 汉堡的价格是25元

==================================================
第 2 轮对话
==================================================
Action: ask_menu_price(可乐)
Observation: 可乐的价格是8元

==================================================
第 3 轮对话
==================================================
Action: calculate(25*2 + 8*1)
Observation: 58元

==================================================
第 4 轮对话
==================================================

Thought: 得到总价58元，输出答案
Answer: 您的订单：汉堡x2=50元，可乐x1=8元，总计58元

✅ 点餐完成!
```

---

## 🔄 对比正则解析版本

| 维度     | 正则解析（01）     | Function Calling（02） |
| -------- | ------------------ | ---------------------- |
| 工具定义 | 写在 Prompt 里     | JSON Schema            |
| 工具调用 | 正则解析文本       | LLM 返回结构化 JSON    |
| 可靠性   | 依赖 LLM 格式输出  | 结构化输出，更可靠     |
| 扩展性   | 改 Prompt + 改正则 | 改 JSON Schema         |

---

## 📚 学习资源

无
